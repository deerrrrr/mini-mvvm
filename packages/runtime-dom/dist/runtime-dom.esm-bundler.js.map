{"version":3,"file":"runtime-dom.esm-bundler.js","sources":["../../shared/src/index.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/apiCreateApp.ts","../../runtime-core/src/componentPublicInstance.ts","../../runtime-core/src/component.ts","../../runtime-core/src/render.ts","../src/nodeOps.ts","../src/modules/attr.ts","../src/modules/class.ts","../src/modules/event.ts","../src/modules/style.ts","../src/patchProp.ts","../src/index.ts"],"sourcesContent":["// 公共方法\r\nexport function isObject(target) {\r\n  return typeof target === 'object' && target != null\r\n}\r\n// 合并对象\r\nexport const extend = Object.assign\r\n// 判断\r\nexport const isArray = Array.isArray\r\nexport const isFunction = (val) => typeof val === 'function'\r\nexport const isNumber = (val) => typeof val === 'number'\r\nexport const isString = (val) => typeof val === 'string'\r\n\r\n// 判断数组的key是不是整数\r\nexport const isIntegerKey = (key) => parseInt(key) + '' === key\r\n// 对象中是否有这个属性\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty\r\nexport const hasOwn = (\r\n  val: object,\r\n  key: string | symbol\r\n): key is keyof typeof val => hasOwnProperty.call(val, key)\r\n\r\nexport const hasChange = (val, oldVal) => val !== oldVal\r\n\r\nexport * from './shapeFlag'\r\n","import { isString, isObject, ShapeFlags, isArray } from '@vue/shared'\r\n\r\n// 创建vnode 和h函数一样\r\nexport const createVnode = (type, props, children = null) => {\r\n  // 区分组件还是元素\r\n  let shapeFlag = isString(type)\r\n    ? ShapeFlags.ELEMENT\r\n    : isObject(type)\r\n    ? ShapeFlags.STATEFUL_COMPONENT\r\n    : 0\r\n  const vnode = {\r\n    _v_isVnode: true, //是一个vnode节点\r\n    type,\r\n    props,\r\n    children,\r\n    key: props && props.key, //diff算法\r\n    el: null, //和真实的元素对应\r\n    component:{},//实例对象\r\n    shapeFlag,\r\n  }\r\n  // 孩子标识\r\n  normalizeChildren(vnode, children)\r\n  return vnode\r\n}\r\n\r\nfunction normalizeChildren(vnode, children) {\r\n  let type = 0\r\n  if (children == null) {\r\n  } else if (isArray(children)) {\r\n    type = ShapeFlags.ARRAY_CHILDREN\r\n  } else {\r\n    type = ShapeFlags.TEXT_CHILDREN\r\n  }\r\n  vnode.shapeFlag = vnode.shapeFlag | type\r\n}\r\n","import {createVnode} from \"./vnode\"\r\nexport function apiCreateApp(render) {\r\n  return function createApp(rootComponent, rootProps) {\r\n    // 说明组件和属性\r\n    let app = {\r\n      _component: rootComponent,\r\n      _props: rootProps,\r\n      _container:null,\r\n      mount(container) {\r\n        // 挂载位置\r\n        let vnode = createVnode(rootComponent,rootProps)\r\n        render(vnode, container)\r\n        app._container = container\r\n      },\r\n    }\r\n    return app\r\n  }\r\n}\r\n","import { hasOwn } from \"@vue/shared\"\r\n\r\nexport const componentPublicInstance = {\r\n  get({_:instance},key) {\r\n    // 获取值\r\n    const { props, data, setupState } = instance\r\n    if (key[0] == \"$\") {//属性以$开头不可以进行获取\r\n      return\r\n    }\r\n    if (hasOwn(props, key)) {\r\n      return props[key]\r\n    } else if (hasOwn(setupState, key)) {\r\n      return setupState[key]\r\n    }\r\n  },\r\n  set({_:instance},key,value) {\r\n    const { props, data, setupState } = instance\r\n    if (hasOwn(props, key)) {\r\n      props[key] = value\r\n    } else if (hasOwn(setupState, key)) {\r\n      setupState[key] = value\r\n    }\r\n  }\r\n}","import { ShapeFlags } from '@vue/shared'\r\nimport {componentPublicInstance} from './componentPublicInstance'\r\nexport const createComponentInstance = (vnode) => {\r\n  // 就是一个对象\r\n  const instance = {\r\n    vnode,\r\n    type:vnode.type,//组件的类型\r\n    props: {},//组件的属性\r\n    attrs: {},\r\n    setupState: {},//setup返回值\r\n    ctx: {},//代理\r\n    proxy: {},\r\n    data:{},\r\n    isMounted:false,//是否挂载\r\n  }\r\n  instance.ctx = {_:instance}\r\n  return instance\r\n}\r\nexport const setupComponent = (instance) => {\r\n  // 设置值\r\n  const {props,children} = instance.vnode\r\n  // 根据props解析到组件实例上\r\n  instance.props = props\r\n  instance.children = children //插槽\r\n  // 判断组件有没有setup\r\n  let shapeFlag = instance.vnode.shapeFlag&&ShapeFlags.STATEFUL_COMPONENT\r\n  if(shapeFlag){\r\n    setupStateComponent(instance)\r\n  } else {// 没有setup\r\n    \r\n  }\r\n}\r\n// 参数（props context） 返回值（对象，函数）\r\nfunction setupStateComponent(instance) {\r\n  // 代理\r\n  instance.proxy = new Proxy(instance.ctx, componentPublicInstance as any)\r\n  let component = instance.type\r\n  let { setup } = component\r\n\r\n  if (setup) {\r\n    let setupContext = createContext(instance)\r\n    setup(instance.props, setupContext)\r\n  }\r\n  // 处理render\r\n  component.render(instance.proxy)\r\n}\r\n\r\nfunction createContext(instance) {\r\n  return {\r\n    attrs: instance.attrs,\r\n    slots: instance.slots,\r\n    emit: () => { },\r\n    expose: () => { },\r\n  }\r\n}\r\n\r\nexport const setupRenderEffect = () => {\r\n  \r\n}","import { ShapeFlags } from '@vue/shared'\r\nimport { apiCreateApp } from './apiCreateApp'\r\nimport { createComponentInstance, setupComponent,setupRenderEffect } from './component'\r\nexport function createRender(renderOptionDom) {\r\n  // 实现渲染\r\n  const mountComponent = (InitialVnode, container) => {\r\n    // 组件渲染\r\n    // 组件实例\r\n    const instance = (InitialVnode.component =\r\n      createComponentInstance(InitialVnode))\r\n    // 解析数据到这个实现对象中\r\n    setupComponent(instance)\r\n    // 创建effect让render函数执行\r\n    setupRenderEffect()\r\n  }\r\n  const processComponent = (n1, n2, container) => {\r\n    if (n1 == null) {\r\n      // 第一次\r\n      mountComponent(n2, container)\r\n    } else {\r\n      //更新\r\n    }\r\n  }\r\n  const patch = (n1, n2, container) => {\r\n    // 针对不同的类型\r\n    let { shapeFlag } = n2\r\n    if (shapeFlag & ShapeFlags.ELEMENT) {\r\n      // 元素\r\n    } else if (shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\r\n      // 组件\r\n      processComponent(n1, n2, container)\r\n    }\r\n  }\r\n  let render = (vnode, container) => {\r\n    // 组件初始化\r\n    patch(null, vnode, container) //第一次\r\n  }\r\n  return {\r\n    createApp: apiCreateApp(render), // vnode\r\n  }\r\n}\r\n","// 操作节点\r\n\r\nexport const nodeOps = {\r\n  // 创建元素\r\n  createElement: tagName => document.createElement(tagName),\r\n  remove: child => { // 删除\r\n    let parent = child.parentNode\r\n    if (parent) {\r\n      parent.removeChild(child)\r\n    }\r\n  },\r\n  insert: (child, parent, ancher = null) => { // 插入\r\n    parent.insertBefore(child, ancher)\r\n  },\r\n  querySelector: select => document.querySelector(select),\r\n  setElementText: (el, text) => el.textContent = text,\r\n  // 文本\r\n  createText: text => document.createTextNode(text),\r\n  setText: (node, text) => node.nodeValue = text\r\n}","export const patchAttr = (el, key, value) => {\r\n  if (value == null) {\r\n    el.removeAttribute(key)\r\n  } else {\r\n    el.removeAttribute(key, value)\r\n  }\r\n}","export const patchClass = (el, value) => {\r\n  if (value == null) {\r\n    value = ''\r\n  }\r\n  el.className = value\r\n}","// 缓存\r\nexport const patchEvent = (el, key, value) => {\r\n  const invokers = el._vei || (el._vei = {})\r\n  const eventName = key.slice(1).toLowerCase()\r\n  const exists = invokers[eventName]\r\n  if (exists && value) { // 新的有 旧的也有\r\n    exists.value = value\r\n  } else {\r\n    if (value) { // 新的有 旧的没有\r\n      let invoker = invokers[eventName] = createInvoker(value)\r\n      el.addEventListener(eventName, invoker)\r\n    } else { //新的没有\r\n      el.removeEventListener(eventName, exists)\r\n      invokers[eventName] = undefined\r\n    }\r\n  }\r\n}\r\n\r\nfunction createInvoker(value) {\r\n  const fn = (e) => {\r\n    fn.value(e)\r\n  }\r\n  fn.value = value\r\n  return fn\r\n}","export const patchStyle = (el, prev, next) => {\r\n  const style = el.style\r\n  if (next == null) {\r\n    el.removeAttribute('style')\r\n  } else {\r\n    // 老的有 新的没有\r\n    if (prev) {\r\n      for (let key in prev) {\r\n        if (next[key] == null) {\r\n          style[key] = ''\r\n        }\r\n      }\r\n    }\r\n    // 新的有 \r\n    for (let key in next) {\r\n      style[key] = next[key]\r\n    }\r\n  }\r\n}","import { patchAttr } from \"./modules/attr\"\r\nimport { patchClass } from \"./modules/class\"\r\nimport { patchEvent } from \"./modules/event\"\r\nimport { patchStyle } from \"./modules/style\"\r\n\r\n// 操作属性 策略模式\r\nexport const patchProp = (el, key, prevVal, nextVal) => {\r\n  switch (key) {\r\n    case 'class':\r\n      patchClass(el, nextVal)\r\n      break\r\n    case 'style':\r\n      patchStyle(el, prevVal, nextVal)\r\n      break\r\n    default:\r\n      if (/^@[^a-z]/.test(key)) { // 是不是事件\r\n        patchEvent(el, key, nextVal)\r\n      } else {\r\n        patchAttr(el, key, nextVal)\r\n      }\r\n      break\r\n  }\r\n}","// 操作dom 1节点 2属性\r\n\r\nimport { createRender } from \"@vue/runtime-core\";\r\nimport { extend } from \"@vue/shared\";\r\nimport { nodeOps } from \"./nodeOps\";\r\nimport { patchProp } from \"./patchProp\";\r\n\r\n// dom全部操作\r\nconst renderOptionDom = extend({ patchProp }, nodeOps)\r\n// createApp\r\nexport const createApp = (rootComponent, rootProps) => {\r\n  // 因为有不同的平台\r\n  let app = createRender(renderOptionDom).createApp(rootComponent, rootProps)\r\n  let { mount } = app\r\n  app.mount = function (container) {\r\n    // 挂载组件 清空内容\r\n    container = nodeOps.querySelector(container)\r\n    container.innerHTML = ''\r\n    mount(container)\r\n  }\r\n  return app\r\n}\r\n\r\n"],"names":[],"mappings":"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"}